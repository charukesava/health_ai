{"ast":null,"code":"var _jsxFileName = \"E:\\\\Learning\\\\web development\\\\health-assistant\\\\frontend\\\\src\\\\pages\\\\NearbyFinder.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function NearbyFinder() {\n  _s();\n  const [location, setLocation] = useState(\"\");\n  const [results, setResults] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const findNearby = async () => {\n    if (!location.trim()) {\n      setError(\"Please enter a location\");\n      return;\n    }\n    setLoading(true);\n    setError(\"\");\n    setResults([]);\n    try {\n      // 1ï¸âƒ£ Geocode location using Nominatim (browser-safe)\n      const geoUrl = `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(location)}`;\n      const geoRes = await fetch(geoUrl);\n      const geoData = await geoRes.json();\n      if (!geoData || geoData.length === 0) {\n        throw new Error(\"Location not found\");\n      }\n      const lat = geoData[0].lat;\n      const lon = geoData[0].lon;\n\n      // 2ï¸âƒ£ Overpass query (hospital search)\n      const query = `\n        [out:json];\n        (\n          node[\"amenity\"=\"hospital\"](around:8000,${lat},${lon});\n          way[\"amenity\"=\"hospital\"](around:8000,${lat},${lon});\n          relation[\"amenity\"=\"hospital\"](around:8000,${lat},${lon});\n        );\n        out tags;\n      `;\n\n      // âœ… Browser-friendly Overpass mirror\n      const overpassUrl = \"https://overpass.kumi.systems/api/interpreter?data=\" + encodeURIComponent(query);\n      const overpassRes = await fetch(overpassUrl);\n      const overpassData = await overpassRes.json();\n      if (!overpassData.elements) {\n        throw new Error(\"No hospital data received\");\n      }\n      const hospitals = overpassData.elements.map(item => {\n        var _item$tags, _item$tags2, _item$tags3, _item$tags4, _item$tags5, _item$tags6;\n        return {\n          name: ((_item$tags = item.tags) === null || _item$tags === void 0 ? void 0 : _item$tags.name) || \"Unnamed Hospital\",\n          phone: ((_item$tags2 = item.tags) === null || _item$tags2 === void 0 ? void 0 : _item$tags2.phone) || ((_item$tags3 = item.tags) === null || _item$tags3 === void 0 ? void 0 : _item$tags3[\"contact:phone\"]) || \"Phone not available\",\n          address: ((_item$tags4 = item.tags) === null || _item$tags4 === void 0 ? void 0 : _item$tags4[\"addr:full\"]) || `${((_item$tags5 = item.tags) === null || _item$tags5 === void 0 ? void 0 : _item$tags5[\"addr:street\"]) || \"\"} ${((_item$tags6 = item.tags) === null || _item$tags6 === void 0 ? void 0 : _item$tags6[\"addr:city\"]) || \"\"}`.trim() || \"Address not available\"\n        };\n      });\n      setResults(hospitals);\n    } catch (err) {\n      setError(err.message);\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Nearby Doctor / Hospital Finder\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter city / area / pincode\",\n      value: location,\n      onChange: e => setLocation(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: findNearby,\n      disabled: loading,\n      children: loading ? \"Searching...\" : \"Find Nearby\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: \"12px\",\n        marginTop: \"10px\"\n      },\n      children: \"Location and distance shown are approximate and for educational purposes only.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"20px\"\n      },\n      children: [results.length === 0 && !loading && !error && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No hospitals found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this), results.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: \"1px solid #ddd\",\n          padding: \"10px\",\n          marginBottom: \"10px\",\n          borderRadius: \"6px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: item.address\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\uD83D\\uDCDE \", item.phone]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n_s(NearbyFinder, \"dixjW9Y59rPJbl1pHh5iGn06Lus=\");\n_c = NearbyFinder;\nvar _c;\n$RefreshReg$(_c, \"NearbyFinder\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","NearbyFinder","_s","location","setLocation","results","setResults","loading","setLoading","error","setError","findNearby","trim","geoUrl","encodeURIComponent","geoRes","fetch","geoData","json","length","Error","lat","lon","query","overpassUrl","overpassRes","overpassData","elements","hospitals","map","item","_item$tags","_item$tags2","_item$tags3","_item$tags4","_item$tags5","_item$tags6","name","tags","phone","address","err","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","disabled","style","fontSize","marginTop","color","index","border","padding","marginBottom","borderRadius","_c","$RefreshReg$"],"sources":["E:/Learning/web development/health-assistant/frontend/src/pages/NearbyFinder.js"],"sourcesContent":["import { useState } from \"react\";\r\n\r\nexport default function NearbyFinder() {\r\n  const [location, setLocation] = useState(\"\");\r\n  const [results, setResults] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const findNearby = async () => {\r\n    if (!location.trim()) {\r\n      setError(\"Please enter a location\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(\"\");\r\n    setResults([]);\r\n\r\n    try {\r\n      // 1ï¸âƒ£ Geocode location using Nominatim (browser-safe)\r\n      const geoUrl = `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(\r\n        location\r\n      )}`;\r\n\r\n      const geoRes = await fetch(geoUrl);\r\n      const geoData = await geoRes.json();\r\n\r\n      if (!geoData || geoData.length === 0) {\r\n        throw new Error(\"Location not found\");\r\n      }\r\n\r\n      const lat = geoData[0].lat;\r\n      const lon = geoData[0].lon;\r\n\r\n      // 2ï¸âƒ£ Overpass query (hospital search)\r\n      const query = `\r\n        [out:json];\r\n        (\r\n          node[\"amenity\"=\"hospital\"](around:8000,${lat},${lon});\r\n          way[\"amenity\"=\"hospital\"](around:8000,${lat},${lon});\r\n          relation[\"amenity\"=\"hospital\"](around:8000,${lat},${lon});\r\n        );\r\n        out tags;\r\n      `;\r\n\r\n      // âœ… Browser-friendly Overpass mirror\r\n      const overpassUrl =\r\n        \"https://overpass.kumi.systems/api/interpreter?data=\" +\r\n        encodeURIComponent(query);\r\n\r\n      const overpassRes = await fetch(overpassUrl);\r\n      const overpassData = await overpassRes.json();\r\n\r\n      if (!overpassData.elements) {\r\n        throw new Error(\"No hospital data received\");\r\n      }\r\n\r\n      const hospitals = overpassData.elements.map((item) => ({\r\n        name: item.tags?.name || \"Unnamed Hospital\",\r\n        phone:\r\n          item.tags?.phone ||\r\n          item.tags?.[\"contact:phone\"] ||\r\n          \"Phone not available\",\r\n        address:\r\n          item.tags?.[\"addr:full\"] ||\r\n          `${item.tags?.[\"addr:street\"] || \"\"} ${\r\n            item.tags?.[\"addr:city\"] || \"\"\r\n          }`.trim() ||\r\n          \"Address not available\",\r\n      }));\r\n\r\n      setResults(hospitals);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>Nearby Doctor / Hospital Finder</h2>\r\n\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Enter city / area / pincode\"\r\n        value={location}\r\n        onChange={(e) => setLocation(e.target.value)}\r\n      />\r\n\r\n      <button onClick={findNearby} disabled={loading}>\r\n        {loading ? \"Searching...\" : \"Find Nearby\"}\r\n      </button>\r\n\r\n      <p style={{ fontSize: \"12px\", marginTop: \"10px\" }}>\r\n        Location and distance shown are approximate and for educational purposes\r\n        only.\r\n      </p>\r\n\r\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\r\n\r\n      <div style={{ marginTop: \"20px\" }}>\r\n        {results.length === 0 && !loading && !error && (\r\n          <p>No hospitals found</p>\r\n        )}\r\n\r\n        {results.map((item, index) => (\r\n          <div\r\n            key={index}\r\n            style={{\r\n              border: \"1px solid #ddd\",\r\n              padding: \"10px\",\r\n              marginBottom: \"10px\",\r\n              borderRadius: \"6px\",\r\n            }}\r\n          >\r\n            <strong>{item.name}</strong>\r\n            <p>{item.address}</p>\r\n            <p>ðŸ“ž {item.phone}</p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}