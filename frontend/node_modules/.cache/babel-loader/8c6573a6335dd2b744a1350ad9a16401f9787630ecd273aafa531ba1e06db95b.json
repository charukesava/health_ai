{"ast":null,"code":"var _jsxFileName = \"E:\\\\Learning\\\\web development\\\\health-assistant\\\\frontend\\\\src\\\\pages\\\\NearbyFinder.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Nearby() {\n  _s();\n  const [location, setLocation] = useState(\"\");\n  const [results, setResults] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const findNearby = async () => {\n    if (!location) {\n      setError(\"Please enter a location\");\n      return;\n    }\n    setLoading(true);\n    setError(\"\");\n    setResults([]);\n    try {\n      // 1Ô∏è‚É£ Geocode location using Nominatim\n      const geoRes = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(location)}`, {\n        headers: {\n          Accept: \"application/json\"\n        }\n      });\n      const geoText = await geoRes.text();\n      const geoData = JSON.parse(geoText);\n      if (!geoData.length) {\n        throw new Error(\"Location not found\");\n      }\n      const lat = geoData[0].lat;\n      const lon = geoData[0].lon;\n\n      // 2Ô∏è‚É£ Overpass GET query (browser-safe)\n      const overpassQuery = `\n        [out:json];\n        (\n          node[\"amenity\"=\"hospital\"](around:8000,${lat},${lon});\n          way[\"amenity\"=\"hospital\"](around:8000,${lat},${lon});\n          relation[\"amenity\"=\"hospital\"](around:8000,${lat},${lon});\n        );\n        out tags;\n      `;\n      const overpassUrl = \"https://overpass-api.de/api/interpreter?data=\" + encodeURIComponent(overpassQuery);\n      const overpassRes = await fetch(overpassUrl, {\n        headers: {\n          Accept: \"application/json\"\n        }\n      });\n      const overpassText = await overpassRes.text();\n\n      // üîí Safety check (IMPORTANT)\n      if (overpassText.startsWith(\"<\")) {\n        throw new Error(\"Overpass API blocked the request. Please try again later.\");\n      }\n      const overpassData = JSON.parse(overpassText);\n      const hospitals = overpassData.elements.map(item => {\n        var _item$tags, _item$tags2, _item$tags3, _item$tags4, _item$tags5, _item$tags6;\n        return {\n          name: ((_item$tags = item.tags) === null || _item$tags === void 0 ? void 0 : _item$tags.name) || \"Unnamed Hospital\",\n          phone: ((_item$tags2 = item.tags) === null || _item$tags2 === void 0 ? void 0 : _item$tags2.phone) || ((_item$tags3 = item.tags) === null || _item$tags3 === void 0 ? void 0 : _item$tags3[\"contact:phone\"]) || \"Phone not available\",\n          address: ((_item$tags4 = item.tags) === null || _item$tags4 === void 0 ? void 0 : _item$tags4[\"addr:full\"]) || `${((_item$tags5 = item.tags) === null || _item$tags5 === void 0 ? void 0 : _item$tags5[\"addr:street\"]) || \"\"} ${((_item$tags6 = item.tags) === null || _item$tags6 === void 0 ? void 0 : _item$tags6[\"addr:city\"]) || \"\"}`.trim() || \"Address not available\"\n        };\n      });\n      setResults(hospitals);\n    } catch (err) {\n      setError(err.message);\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Nearby Doctor / Hospital Finder\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter city / area / pincode\",\n      value: location,\n      onChange: e => setLocation(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: findNearby,\n      disabled: loading,\n      children: loading ? \"Searching...\" : \"Find Nearby\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        fontSize: \"12px\",\n        marginTop: \"10px\"\n      },\n      children: \"Location and distance shown are approximate and for educational purposes only.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"20px\"\n      },\n      children: [results.length === 0 && !loading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No hospitals found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 46\n      }, this), results.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: \"1px solid #ddd\",\n          padding: \"10px\",\n          marginBottom: \"10px\",\n          borderRadius: \"6px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: item.address\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\uD83D\\uDCDE \", item.phone]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n}\n_s(Nearby, \"dixjW9Y59rPJbl1pHh5iGn06Lus=\");\n_c = Nearby;\nvar _c;\n$RefreshReg$(_c, \"Nearby\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","Nearby","_s","location","setLocation","results","setResults","loading","setLoading","error","setError","findNearby","geoRes","fetch","encodeURIComponent","headers","Accept","geoText","text","geoData","JSON","parse","length","Error","lat","lon","overpassQuery","overpassUrl","overpassRes","overpassText","startsWith","overpassData","hospitals","elements","map","item","_item$tags","_item$tags2","_item$tags3","_item$tags4","_item$tags5","_item$tags6","name","tags","phone","address","trim","err","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","disabled","style","fontSize","marginTop","color","index","border","padding","marginBottom","borderRadius","_c","$RefreshReg$"],"sources":["E:/Learning/web development/health-assistant/frontend/src/pages/NearbyFinder.js"],"sourcesContent":["import { useState } from \"react\";\r\n\r\nexport default function Nearby() {\r\n  const [location, setLocation] = useState(\"\");\r\n  const [results, setResults] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const findNearby = async () => {\r\n    if (!location) {\r\n      setError(\"Please enter a location\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(\"\");\r\n    setResults([]);\r\n\r\n    try {\r\n      // 1Ô∏è‚É£ Geocode location using Nominatim\r\n      const geoRes = await fetch(\r\n        `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(\r\n          location\r\n        )}`,\r\n        {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n          },\r\n        }\r\n      );\r\n\r\n      const geoText = await geoRes.text();\r\n      const geoData = JSON.parse(geoText);\r\n\r\n      if (!geoData.length) {\r\n        throw new Error(\"Location not found\");\r\n      }\r\n\r\n      const lat = geoData[0].lat;\r\n      const lon = geoData[0].lon;\r\n\r\n      // 2Ô∏è‚É£ Overpass GET query (browser-safe)\r\n      const overpassQuery = `\r\n        [out:json];\r\n        (\r\n          node[\"amenity\"=\"hospital\"](around:8000,${lat},${lon});\r\n          way[\"amenity\"=\"hospital\"](around:8000,${lat},${lon});\r\n          relation[\"amenity\"=\"hospital\"](around:8000,${lat},${lon});\r\n        );\r\n        out tags;\r\n      `;\r\n\r\n      const overpassUrl =\r\n        \"https://overpass-api.de/api/interpreter?data=\" +\r\n        encodeURIComponent(overpassQuery);\r\n\r\n      const overpassRes = await fetch(overpassUrl, {\r\n        headers: {\r\n          Accept: \"application/json\",\r\n        },\r\n      });\r\n\r\n      const overpassText = await overpassRes.text();\r\n\r\n      // üîí Safety check (IMPORTANT)\r\n      if (overpassText.startsWith(\"<\")) {\r\n        throw new Error(\r\n          \"Overpass API blocked the request. Please try again later.\"\r\n        );\r\n      }\r\n\r\n      const overpassData = JSON.parse(overpassText);\r\n\r\n      const hospitals = overpassData.elements.map((item) => ({\r\n        name: item.tags?.name || \"Unnamed Hospital\",\r\n        phone:\r\n          item.tags?.phone ||\r\n          item.tags?.[\"contact:phone\"] ||\r\n          \"Phone not available\",\r\n        address:\r\n          item.tags?.[\"addr:full\"] ||\r\n          `${item.tags?.[\"addr:street\"] || \"\"} ${\r\n            item.tags?.[\"addr:city\"] || \"\"\r\n          }`.trim() ||\r\n          \"Address not available\",\r\n      }));\r\n\r\n      setResults(hospitals);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>Nearby Doctor / Hospital Finder</h2>\r\n\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Enter city / area / pincode\"\r\n        value={location}\r\n        onChange={(e) => setLocation(e.target.value)}\r\n      />\r\n\r\n      <button onClick={findNearby} disabled={loading}>\r\n        {loading ? \"Searching...\" : \"Find Nearby\"}\r\n      </button>\r\n\r\n      <p style={{ fontSize: \"12px\", marginTop: \"10px\" }}>\r\n        Location and distance shown are approximate and for educational purposes\r\n        only.\r\n      </p>\r\n\r\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\r\n\r\n      <div style={{ marginTop: \"20px\" }}>\r\n        {results.length === 0 && !loading && <p>No hospitals found</p>}\r\n\r\n        {results.map((item, index) => (\r\n          <div\r\n            key={index}\r\n            style={{\r\n              border: \"1px solid #ddd\",\r\n              padding: \"10px\",\r\n              marginBottom: \"10px\",\r\n              borderRadius: \"6px\",\r\n            }}\r\n          >\r\n            <strong>{item.name}</strong>\r\n            <p>{item.address}</p>\r\n            <p>üìû {item.phone}</p>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}