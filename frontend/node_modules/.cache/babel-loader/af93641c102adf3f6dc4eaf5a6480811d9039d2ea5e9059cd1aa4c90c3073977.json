{"ast":null,"code":"var _jsxFileName = \"E:\\\\Learning\\\\web development\\\\health-assistant\\\\frontend\\\\src\\\\pages\\\\Emergency.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport Header from \"../components/Header\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Emergency() {\n  _s();\n  const [location, setLocation] = useState(null);\n  const [hospitals, setHospitals] = useState([]);\n  const [error, setError] = useState(\"\");\n  useEffect(() => {\n    if (!navigator.geolocation) {\n      setError(\"Geolocation is not supported by your browser.\");\n      return;\n    }\n    navigator.geolocation.getCurrentPosition(async pos => {\n      const lat = pos.coords.latitude;\n      const lon = pos.coords.longitude;\n      setLocation({\n        lat,\n        lon\n      });\n\n      // OpenStreetMap Overpass API\n      const query = `\n          [out:json];\n          node\n            [\"amenity\"=\"hospital\"]\n            (around:3000, ${lat}, ${lon});\n          out;\n        `;\n      const res = await fetch(\"https://overpass-api.de/api/interpreter\", {\n        method: \"POST\",\n        body: query\n      });\n      const data = await res.json();\n      setHospitals(data.elements || []);\n    }, () => {\n      setError(\"Location permission denied.\");\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: \"20px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          color: \"red\"\n        },\n        children: \"\\uD83D\\uDEA8 Emergency Assistance\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\"\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 19\n      }, this), location && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Your Location:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), \"Latitude: \", location.lat, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), \"Longitude: \", location.lon]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Nearby Hospitals\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), hospitals.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Searching hospitals...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 36\n      }, this), hospitals.map((h, i) => {\n        var _h$tags, _h$tags2, _h$tags3;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            border: \"1px solid #ccc\",\n            padding: \"10px\",\n            borderRadius: \"8px\",\n            marginBottom: \"10px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: ((_h$tags = h.tags) === null || _h$tags === void 0 ? void 0 : _h$tags.name) || \"Hospital\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), ((_h$tags2 = h.tags) === null || _h$tags2 === void 0 ? void 0 : _h$tags2.phone) && /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `tel:${h.tags.phone}`,\n            style: {\n              color: \"red\",\n              fontWeight: \"bold\"\n            },\n            children: \"\\uD83D\\uDCDE Call Now\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this), !((_h$tags3 = h.tags) !== null && _h$tags3 !== void 0 && _h$tags3.phone) && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Phone number not available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 32\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Emergency, \"W2JTKYIotahh2J8VUwOuhwzpYEY=\");\n_c = Emergency;\nexport default Emergency;\nvar _c;\n$RefreshReg$(_c, \"Emergency\");","map":{"version":3,"names":["useEffect","useState","Header","jsxDEV","_jsxDEV","Fragment","_Fragment","Emergency","_s","location","setLocation","hospitals","setHospitals","error","setError","navigator","geolocation","getCurrentPosition","pos","lat","coords","latitude","lon","longitude","query","res","fetch","method","body","data","json","elements","children","fileName","_jsxFileName","lineNumber","columnNumber","style","padding","color","length","map","h","i","_h$tags","_h$tags2","_h$tags3","border","borderRadius","marginBottom","tags","name","phone","href","fontWeight","_c","$RefreshReg$"],"sources":["E:/Learning/web development/health-assistant/frontend/src/pages/Emergency.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport Header from \"../components/Header\";\r\n\r\nfunction Emergency() {\r\n  const [location, setLocation] = useState(null);\r\n  const [hospitals, setHospitals] = useState([]);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (!navigator.geolocation) {\r\n      setError(\"Geolocation is not supported by your browser.\");\r\n      return;\r\n    }\r\n\r\n    navigator.geolocation.getCurrentPosition(\r\n      async (pos) => {\r\n        const lat = pos.coords.latitude;\r\n        const lon = pos.coords.longitude;\r\n        setLocation({ lat, lon });\r\n\r\n        // OpenStreetMap Overpass API\r\n        const query = `\r\n          [out:json];\r\n          node\r\n            [\"amenity\"=\"hospital\"]\r\n            (around:3000, ${lat}, ${lon});\r\n          out;\r\n        `;\r\n\r\n        const res = await fetch(\"https://overpass-api.de/api/interpreter\", {\r\n          method: \"POST\",\r\n          body: query,\r\n        });\r\n\r\n        const data = await res.json();\r\n        setHospitals(data.elements || []);\r\n      },\r\n      () => {\r\n        setError(\"Location permission denied.\");\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div style={{ padding: \"20px\" }}>\r\n        <h2 style={{ color: \"red\" }}>ðŸš¨ Emergency Assistance</h2>\r\n\r\n        {error && <p style={{ color: \"red\" }}>{error}</p>}\r\n\r\n        {location && (\r\n          <p>\r\n            <strong>Your Location:</strong>\r\n            <br />\r\n            Latitude: {location.lat}\r\n            <br />\r\n            Longitude: {location.lon}\r\n          </p>\r\n        )}\r\n\r\n        <h3>Nearby Hospitals</h3>\r\n\r\n        {hospitals.length === 0 && <p>Searching hospitals...</p>}\r\n\r\n        {hospitals.map((h, i) => (\r\n          <div\r\n            key={i}\r\n            style={{\r\n              border: \"1px solid #ccc\",\r\n              padding: \"10px\",\r\n              borderRadius: \"8px\",\r\n              marginBottom: \"10px\",\r\n            }}\r\n          >\r\n            <strong>{h.tags?.name || \"Hospital\"}</strong>\r\n            <br />\r\n            {h.tags?.phone && (\r\n              <a\r\n                href={`tel:${h.tags.phone}`}\r\n                style={{ color: \"red\", fontWeight: \"bold\" }}\r\n              >\r\n                ðŸ“ž Call Now\r\n              </a>\r\n            )}\r\n            {!h.tags?.phone && <p>Phone number not available</p>}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Emergency;\r\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,MAAM,MAAM,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE1C,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EACnB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAEtCD,SAAS,CAAC,MAAM;IACd,IAAI,CAACe,SAAS,CAACC,WAAW,EAAE;MAC1BF,QAAQ,CAAC,+CAA+C,CAAC;MACzD;IACF;IAEAC,SAAS,CAACC,WAAW,CAACC,kBAAkB,CACtC,MAAOC,GAAG,IAAK;MACb,MAAMC,GAAG,GAAGD,GAAG,CAACE,MAAM,CAACC,QAAQ;MAC/B,MAAMC,GAAG,GAAGJ,GAAG,CAACE,MAAM,CAACG,SAAS;MAChCb,WAAW,CAAC;QAAES,GAAG;QAAEG;MAAI,CAAC,CAAC;;MAEzB;MACA,MAAME,KAAK,GAAG;AACtB;AACA;AACA;AACA,4BAA4BL,GAAG,KAAKG,GAAG;AACvC;AACA,SAAS;MAED,MAAMG,GAAG,GAAG,MAAMC,KAAK,CAAC,yCAAyC,EAAE;QACjEC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEJ;MACR,CAAC,CAAC;MAEF,MAAMK,IAAI,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,CAAC;MAC7BlB,YAAY,CAACiB,IAAI,CAACE,QAAQ,IAAI,EAAE,CAAC;IACnC,CAAC,EACD,MAAM;MACJjB,QAAQ,CAAC,6BAA6B,CAAC;IACzC,CACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,oBACEV,OAAA,CAAAE,SAAA;IAAA0B,QAAA,gBACE5B,OAAA,CAACF,MAAM;MAAA+B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACVhC,OAAA;MAAKiC,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO,CAAE;MAAAN,QAAA,gBAC9B5B,OAAA;QAAIiC,KAAK,EAAE;UAAEE,KAAK,EAAE;QAAM,CAAE;QAAAP,QAAA,EAAC;MAAuB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAExDvB,KAAK,iBAAIT,OAAA;QAAGiC,KAAK,EAAE;UAAEE,KAAK,EAAE;QAAM,CAAE;QAAAP,QAAA,EAAEnB;MAAK;QAAAoB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAEhD3B,QAAQ,iBACPL,OAAA;QAAA4B,QAAA,gBACE5B,OAAA;UAAA4B,QAAA,EAAQ;QAAc;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC/BhC,OAAA;UAAA6B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,cACI,EAAC3B,QAAQ,CAACU,GAAG,eACvBf,OAAA;UAAA6B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACK,EAAC3B,QAAQ,CAACa,GAAG;MAAA;QAAAW,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvB,CACJ,eAEDhC,OAAA;QAAA4B,QAAA,EAAI;MAAgB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAExBzB,SAAS,CAAC6B,MAAM,KAAK,CAAC,iBAAIpC,OAAA;QAAA4B,QAAA,EAAG;MAAsB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,EAEvDzB,SAAS,CAAC8B,GAAG,CAAC,CAACC,CAAC,EAAEC,CAAC;QAAA,IAAAC,OAAA,EAAAC,QAAA,EAAAC,QAAA;QAAA,oBAClB1C,OAAA;UAEEiC,KAAK,EAAE;YACLU,MAAM,EAAE,gBAAgB;YACxBT,OAAO,EAAE,MAAM;YACfU,YAAY,EAAE,KAAK;YACnBC,YAAY,EAAE;UAChB,CAAE;UAAAjB,QAAA,gBAEF5B,OAAA;YAAA4B,QAAA,EAAS,EAAAY,OAAA,GAAAF,CAAC,CAACQ,IAAI,cAAAN,OAAA,uBAANA,OAAA,CAAQO,IAAI,KAAI;UAAU;YAAAlB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC,eAC7ChC,OAAA;YAAA6B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,EACL,EAAAS,QAAA,GAAAH,CAAC,CAACQ,IAAI,cAAAL,QAAA,uBAANA,QAAA,CAAQO,KAAK,kBACZhD,OAAA;YACEiD,IAAI,EAAE,OAAOX,CAAC,CAACQ,IAAI,CAACE,KAAK,EAAG;YAC5Bf,KAAK,EAAE;cAAEE,KAAK,EAAE,KAAK;cAAEe,UAAU,EAAE;YAAO,CAAE;YAAAtB,QAAA,EAC7C;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CACJ,EACA,GAAAU,QAAA,GAACJ,CAAC,CAACQ,IAAI,cAAAJ,QAAA,eAANA,QAAA,CAAQM,KAAK,kBAAIhD,OAAA;YAAA4B,QAAA,EAAG;UAA0B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA,GAlB/CO,CAAC;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAmBH,CAAC;MAAA,CACP,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA,eACN,CAAC;AAEP;AAAC5B,EAAA,CAxFQD,SAAS;AAAAgD,EAAA,GAAThD,SAAS;AA0FlB,eAAeA,SAAS;AAAC,IAAAgD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}