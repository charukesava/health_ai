{"ast":null,"code":"var _jsxFileName = \"E:\\\\Learning\\\\web development\\\\health-assistant\\\\frontend\\\\src\\\\pages\\\\Emergency.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport Header from \"../components/Header\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Emergency() {\n  _s();\n  const [location, setLocation] = useState(null);\n  const [hospitals, setHospitals] = useState([]);\n  const [error, setError] = useState(\"\");\n  useEffect(() => {\n    if (!navigator.geolocation) {\n      setError(\"Geolocation is not supported by your browser.\");\n      return;\n    }\n    navigator.geolocation.getCurrentPosition(async pos => {\n      const lat = pos.coords.latitude;\n      const lon = pos.coords.longitude;\n      setLocation({\n        lat,\n        lon\n      });\n\n      // OpenStreetMap Overpass API\n      const query = `\n          [out:json];\n          node[\"amenity\"=\"hospital\"](around:3000, ${lat}, ${lon});\n          out;\n        `;\n      try {\n        const res = await fetch(\"https://overpass-api.de/api/interpreter\", {\n          method: \"POST\",\n          body: query\n        });\n        const data = await res.json();\n        setHospitals(data.elements || []);\n      } catch (e) {\n        setError(\"Failed to load nearby hospitals.\");\n      }\n    }, () => {\n      setError(\"Location permission denied.\");\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: \"30px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Emergency Nearby Hospitals\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\"\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 19\n      }, this), location && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: \"20px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Your Location:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Latitude: \", location.lat]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Longitude: \", location.lon]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), !error && !location && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Fetching your location and nearby hospitals...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), hospitals.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Hospitals within 3 km\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), hospitals.map((h, i) => {\n          var _h$tags, _h$tags2, _h$tags3, _h$tags4, _h$tags5;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              border: \"1px solid #ddd\",\n              padding: \"12px\",\n              borderRadius: \"6px\",\n              marginBottom: \"10px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: ((_h$tags = h.tags) === null || _h$tags === void 0 ? void 0 : _h$tags.name) || \"Unnamed Hospital\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: ((_h$tags2 = h.tags) === null || _h$tags2 === void 0 ? void 0 : _h$tags2[\"addr:full\"]) || ((_h$tags3 = h.tags) === null || _h$tags3 === void 0 ? void 0 : _h$tags3[\"addr:street\"]) || \"Address not available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Phone:\", \" \", ((_h$tags4 = h.tags) === null || _h$tags4 === void 0 ? void 0 : _h$tags4.phone) || ((_h$tags5 = h.tags) === null || _h$tags5 === void 0 ? void 0 : _h$tags5[\"contact:phone\"]) || \"Phone number not available\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this)]\n          }, h.id || i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), !error && location && hospitals.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Searching hospitals...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Emergency, \"W2JTKYIotahh2J8VUwOuhwzpYEY=\");\n_c = Emergency;\nexport default Emergency;\nvar _c;\n$RefreshReg$(_c, \"Emergency\");","map":{"version":3,"names":["useEffect","useState","Header","jsxDEV","_jsxDEV","Fragment","_Fragment","Emergency","_s","location","setLocation","hospitals","setHospitals","error","setError","navigator","geolocation","getCurrentPosition","pos","lat","coords","latitude","lon","longitude","query","res","fetch","method","body","data","json","elements","e","children","fileName","_jsxFileName","lineNumber","columnNumber","style","padding","color","marginBottom","length","map","h","i","_h$tags","_h$tags2","_h$tags3","_h$tags4","_h$tags5","border","borderRadius","tags","name","phone","id","_c","$RefreshReg$"],"sources":["E:/Learning/web development/health-assistant/frontend/src/pages/Emergency.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport Header from \"../components/Header\";\r\n\r\nfunction Emergency() {\r\n  const [location, setLocation] = useState(null);\r\n  const [hospitals, setHospitals] = useState([]);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (!navigator.geolocation) {\r\n      setError(\"Geolocation is not supported by your browser.\");\r\n      return;\r\n    }\r\n\r\n    navigator.geolocation.getCurrentPosition(\r\n      async (pos) => {\r\n        const lat = pos.coords.latitude;\r\n        const lon = pos.coords.longitude;\r\n\r\n        setLocation({ lat, lon });\r\n\r\n        // OpenStreetMap Overpass API\r\n        const query = `\r\n          [out:json];\r\n          node[\"amenity\"=\"hospital\"](around:3000, ${lat}, ${lon});\r\n          out;\r\n        `;\r\n\r\n        try {\r\n          const res = await fetch(\"https://overpass-api.de/api/interpreter\", {\r\n            method: \"POST\",\r\n            body: query,\r\n          });\r\n          const data = await res.json();\r\n          setHospitals(data.elements || []);\r\n        } catch (e) {\r\n          setError(\"Failed to load nearby hospitals.\");\r\n        }\r\n      },\r\n      () => {\r\n        setError(\"Location permission denied.\");\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div style={{ padding: \"30px\" }}>\r\n        <h1>Emergency Nearby Hospitals</h1>\r\n\r\n        {error && <p style={{ color: \"red\" }}>{error}</p>}\r\n\r\n        {location && (\r\n          <div style={{ marginBottom: \"20px\" }}>\r\n            <h3>Your Location:</h3>\r\n            <p>Latitude: {location.lat}</p>\r\n            <p>Longitude: {location.lon}</p>\r\n          </div>\r\n        )}\r\n\r\n        {!error && !location && (\r\n          <p>Fetching your location and nearby hospitals...</p>\r\n        )}\r\n\r\n        {hospitals.length > 0 && (\r\n          <div>\r\n            <h3>Hospitals within 3 km</h3>\r\n            {hospitals.map((h, i) => (\r\n              <div\r\n                key={h.id || i}\r\n                style={{\r\n                  border: \"1px solid #ddd\",\r\n                  padding: \"12px\",\r\n                  borderRadius: \"6px\",\r\n                  marginBottom: \"10px\",\r\n                }}\r\n              >\r\n                <strong>{h.tags?.name || \"Unnamed Hospital\"}</strong>\r\n                <p>\r\n                  {h.tags?.[\"addr:full\"] ||\r\n                    h.tags?.[\"addr:street\"] ||\r\n                    \"Address not available\"}\r\n                </p>\r\n                <p>\r\n                  Phone:{\" \"}\r\n                  {h.tags?.phone ||\r\n                    h.tags?.[\"contact:phone\"] ||\r\n                    \"Phone number not available\"}\r\n                </p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {!error && location && hospitals.length === 0 && (\r\n          <p>Searching hospitals...</p>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Emergency;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}